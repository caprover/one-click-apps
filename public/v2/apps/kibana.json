{
    "captainVersion": "2",
    "documentation": "https://www.elastic.co/guide/en/kibana/current/docker.html",
    "displayName": "kibana",
    "description": "Kibana is a free and open user interface that lets you visualize your Elasticsearch data and navigate the Elastic Stack.",
    "isOfficial": true,
    "dockerCompose": {
        "services": {
            "$$cap_appname": {
                "containerHttpPort": "5601",
                "environment": {
                    "SERVER_NAME": "$$cap_appname",
                    "KIBANA_DEFAULTAPPID": "$$cap_KIBANA_DEFAULTAPPID",
                    "MONITORING_ENABLED": "$$cap_MONITORING_ENABLED",
                    "ELASTICSEARCH_HOSTS": "$$cap_ELASTICSEARCH_HOSTS"
                },
                "image": "docker.elastic.co/kibana/kibana:$$cap_version",
                "restart": "always"
            }
        },
        "version": "2"
    },
    "instructions": {
        "end": "That's it! If you get a 502 it might mean that kibana cannot find your elasticsearch instance. Please recheck your configs\n. Ensure basic auth is enabled so your data is not publicly available.",
        "start": "Provide the ELASTICSEARCH_HOSTS so that kibana can find your elasticsearch instance. be sure to include the http:// protocol in the url.\n Note that Kibana does not have persistent volumes as all data is stored in the elasticsearch instance itself."
    },
    "variables": [
        {
            "label": "Kibana version",
            "defaultValue": "7.8.0",
            "description": "It's highly recommended that you don't use the latest tag but instead the major version you need.",
            "id": "$$cap_version"
        },
        {
            "label": "Default App id",
            "defaultValue": "home",
            "description": "The default app that is loaded when you visit Kibana. Defaults to home",
            "id": "$$cap_KIBANA_DEFAULTAPPID"
        },
        {
            "label": "MONITORING_ENABLED",
            "description": "Enable kibana monitoring features?",
            "defaultValue": "true",
            "id": "$$cap_MONITORING_ENABLED"
        },
        {
            "label": "ELASTICSEARCH_HOSTS",
            "description": "URL of the elasticsearch hosts to use. Please include the http or https in the urls. eg. http://srv-captain--elastic",
            "id": "$$cap_ELASTICSEARCH_HOSTS"
        }
    ]
}
