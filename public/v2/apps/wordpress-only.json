{
  "captainVersion": "2",
  "documentation": "Taken from https://docs.docker.com/compose/wordpress/. Port mapping removed from WP as it is no longer needed",
  "displayName": "WordPress",
  "description": "WordPress is a content management system based on PHP and MySQL that is usually used with the MySQL or MariaDB database",
  "dockerCompose": {
    "version": "3.3",
    "services": {
      "$$cap_appname-wordpress": {
        "image": "wordpress:$$cap_wp_version",
        "volumes": ["$$cap_appname-wp-data:/var/www/html"],
        "restart": "always",
        "environment": {
          "WORDPRESS_DB_HOST": "$$cap_db_host:3306",
          "WORDPRESS_DB_NAME": "$$cap_db_name",
          "WORDPRESS_DB_USER": "$$cap_db_user",
          "WORDPRESS_DB_PASSWORD": "$$cap_db_pass"
        }
      }
    }
  },
  "instructions": {
    "start": "WordPress is an online, open source website creation tool written in PHP. But in non-geek speak, itâ€™s probably the easiest and most powerful blogging and website content management system (or CMS) in existence today.\n\n Enter your WordPress Configuration parameters and click on next. A MySQL (database) and a WordPress container will be created for you.  The process will take about a minute for the process to finish.",
    "end": "Wordpress is deployed and available as $$cap_appname-wordpress . \n\n IMPORTANT: It will take up to 2 minutes for WordPress to be ready. Before that, you might see a 502 error page.\n"
  },
  "variables": [
    {
      "description": "DB Host",
      "defaultValue": "srv-captain--xxx",
      "id": "$$cap_db_host",
      "label": "DB Host"
    },
    {
      "description": "DB Name",
      "defaultValue": "wordpress",
      "id": "$$cap_db_name",
      "label": "DB Name"
    },
    {
      "id": "$$cap_db_user",
      "label": "Database user",
      "defaultValue": "wordpressuser",
      "validRegex": "/^([a-zA-Z0-9])+$/"
    },
    {
      "id": "$$cap_db_pass",
      "label": "Database password",
      "description": "",
      "validRegex": "/.{1,}/"
    },
    {
      "id": "$$cap_wp_version",
      "label": "WordPress Version",
      "defaultValue": "4.9",
      "description": "Check out their Docker page for the valid tags https://hub.docker.com/r/library/wordpress/tags/",
      "validRegex": "/^([^\\s^\\/])+$/"
    }
  ]
}
