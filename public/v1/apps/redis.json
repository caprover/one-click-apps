{
    "captainVersion": "1",
    "documentation": "Taken from https://hub.docker.com/_/adminer except it is manually adjusted for port 80",
    "dockerCompose": {
        "version": "3.3",
        "services": {
            "$$cap_appname": {
                "dockerfileLines": [
                    "FROM redis:$$cap_redis_version",
                    "CMD exec redis-server --requirepass \"$$cap_redis_password\""
                ],
                "volumes": [
                    "$$cap_appname-redis-data:/data"
                ],
                "restart": "always",
                "environment": {
                    "REDIS_PASSWORD": "$$cap_redis_password"
                }
            }
        }
    },
    "instructions": {
        "start": "Redis is an open source key-value store that functions as a data structure server.\n\n After installation on CaptainDuckDuck, it will be available as srv-captain--YOUR_CONTAINER_NAME at port 6379 to other CaptainDuckDuck apps.\n\n Enter your Redis container name and click on next. It will take about a minute for the process to finish.",
        "end": "Redis is deployed and available as srv-captain--$$cap_appname:6379 to other apps. For example with NodeJS: const client = redis.createClient(6379, 'srv-captain--$$cap_appname' , {password: '$$cap_redis_password'})"
    },
    "variables": [{
            "id": "$$cap_redis_version",
            "label": "Redis Version Tag",
            "description": "Checkout their docker page for the valid tags https://hub.docker.com/r/library/redis/tags/",
            "defaultValue": "4",
            "validRegex": "/^([a-zA-Z0-9-.])+$/"
        },
        {
            "id": "$$cap_redis_password",
            "label": "Redis Password",
            "validRegex": "/^([a-zA-Z0-9-_])+$/"
        }
    ]

}