captainVersion: 4

services:
    $$cap_appname-redis:
        caproverExtra:
            notExposeAsWebApp: 'true'
        image: 'redis:6.2-alpine'
        volumes:
            - $$cap_appname-redis-data:/data

    $$cap_appname-database:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM mariadb:10.7
                - CMD [ "--innodb-flush-method", "fsync" ]
        environment:
            MARIADB_ROOT_PASSWORD: $$cap_APP_DB_ROOT_PASS
            MARIADB_DATABASE: $$cap_APP_DB_SCHEMA
            MARIADB_USER: $$cap_APP_DB_USER
            MARIADB_PASSWORD: $$cap_APP_DB_PASS
        volumes:
            - $$cap_appname-database-data:/var/lib/mysql

    $$cap_appname-influxdb:
        caproverExtra:
            notExposeAsWebApp: 'true'
        image: 'appwrite/influxdb:1.5.0'
        volumes:
            - $$cap_appname-influxdb-data:/var/lib/influxdb

    $$cap_appname-telegraf:
        caproverExtra:
            notExposeAsWebApp: 'true'
        image: 'appwrite/telegraf:1.4.0'
        environment:
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
        volumes:
            - $$cap_appname-influxdb-data:/var/lib/influxdb

    $$cap_appname-appwrite:
        image: 'appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH'
        volumes:
            - $$cap_appname-appwrite-uploads:/storage/uploads
            - $$cap_appname-appwrite-cache:/storage/cache
            - $$cap_appname-appwrite-config:/storage/config
            - $$cap_appname-appwrite-certificates:/storage/certificates
            - $$cap_appname-appwrite-functions:/storage/functions
        depends_on:
            - $$cap_appname-redis
            - $$cap_appname-database
            - $$cap_appname-influxdb
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-realtime:
        caproverExtra:
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["realtime"]
        entrypoint: realtime
        depends_on:
            - $$cap_appname-redis
            - $$cap_appname-database
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-executor:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["executor"]
        depends_on:
            - $$cap_appname-appwrite
            - $$cap_appname-redis
            - $$cap_appname-database
        volumes:
            - /var/run/docker.sock:/var/run/docker.sock
            - $$cap_appname-appwrite-functions:/storage/functions
            - /tmp:/tmp
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-worker-database:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["worker-database"]
        depends_on:
            - $$cap_appname-redis
            - $$cap_appname-database
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-worker-builds:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["worker-builds"]
        depends_on:
            - $$cap_appname-redis
            - $$cap_appname-database
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-worker-audits:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["worker-audits"]
        depends_on:
            - $$cap_appname-redis
            - $$cap_appname-database
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-worker-webhooks:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["worker-webhooks"]
        depends_on:
            - $$cap_appname-redis
            - $$cap_appname-database
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-worker-deletes:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["worker-deletes"]
        depends_on:
            - $$cap_appname-redis
            - $$cap_appname-database
        volumes:
            - appwrite-uploads:/storage/uploads:rw
            - appwrite-cache:/storage/cache:rw
            - appwrite-certificates:/storage/certificates:rw
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-worker-functions:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["worker-functions"]
        depends_on:
            - $$cap_appname-redis
            - $$cap_appname-database
            - $$cap_appname-appwrite-executor
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-worker-mails:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["worker-mails"]
        depends_on:
            - $$cap_appname-redis
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-maintenance:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["maintenance"]
        depends_on:
            - $$cap_appname-redis
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-usage:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["usage"]
        depends_on:
            - $$cap_appname-influxdb
            - $$cap_appname-database
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

    $$cap_appname-appwrite-schedule:
        caproverExtra:
            notExposeAsWebApp: 'true'
            dockerfileLines:
                - FROM appwrite/appwrite:0.15.$$cap_APP_VERSION_PATCH
                - ENTRYPOINT ["schedule"]
        depends_on:
            - $$cap_appname-redis
        environment:
            _APP_ENV: $$cap_APP_ENV
            _APP_LOCALE: $$cap_APP_LOCALE
            _APP_OPTIONS_ABUSE: $$cap_APP_OPTIONS_ABUSE
            _APP_SYSTEM_EMAIL_NAME: $$cap_APP_SYSTEM_EMAIL_NAME
            _APP_OPTIONS_FORCE_HTTPS: $$cap_APP_OPTIONS_FORCE_HTTPS
            _APP_OPENSSL_KEY_V1: $$cap_APP_OPENSSL_KEY_V1
            _APP_DOMAIN: $$cap_APP_DOMAIN
            _APP_DOMAIN_TARGET: $$cap_APP_DOMAIN_TARGET
            _APP_SYSTEM_RESPONSE_FORMAT: $$cap_APP_SYSTEM_RESPONSE_FORMAT
            _APP_CONSOLE_WHITELIST_ROOT: $$cap_APP_CONSOLE_WHITELIST_ROOT
            _APP_CONSOLE_WHITELIST_EMAILS: $$cap_APP_CONSOLE_WHITELIST_EMAILS
            _APP_CONSOLE_WHITELIST_IPS: $$cap_APP_CONSOLE_WHITELIST_IPS
            _APP_SYSTEM_EMAIL_ADDRESS: $$cap_APP_SYSTEM_EMAIL_ADDRESS
            _APP_SYSTEM_SECURITY_EMAIL_ADDRESS: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
            _APP_USAGE_STATS: $$cap_APP_USAGE_STATS
            _APP_LOGGING_PROVIDER: $$cap_APP_LOGGING_PROVIDER
            _APP_LOGGING_CONFIG: $$cap_APP_LOGGING_CONFIG
            _APP_USAGE_AGGREGATION_INTERVAL: $$cap_APP_USAGE_AGGREGATION_INTERVAL
            _APP_WORKER_PER_CORE: $$cap_APP_WORKER_PER_CORE
            _APP_REDIS_HOST: srv-captain--$$cap_appname-redis
            _APP_REDIS_PORT: 6379
            _APP_REDIS_USER:
            _APP_REDIS_PASS:
            _APP_DB_HOST: srv-captain--$$cap_appname-database
            _APP_DB_PORT: 3306
            _APP_DB_SCHEMA: $$cap_APP_DB_SCHEMA
            _APP_DB_USER: $$cap_APP_DB_USER
            _APP_DB_PASS: $$cap_APP_DB_PASS
            _APP_DB_ROOT_PASS: $$cap_APP_DB_ROOT_PASS
            _APP_INFLUXDB_HOST: srv-captain--$$cap_appname-influxdb
            _APP_INFLUXDB_PORT: 8086
            _APP_STATSD_HOST: srv-captain--$$cap_appname-telegraf
            _APP_STATSD_PORT: 8125
            _APP_SMTP_HOST: $$cap_APP_SMTP_HOST
            _APP_SMTP_PORT: $$cap_APP_SMTP_PORT
            _APP_SMTP_SECURE: $$cap_APP_SMTP_SECURE
            _APP_SMTP_USERNAME: $$cap_APP_SMTP_USERNAME
            _APP_SMTP_PASSWORD: $$cap_APP_SMTP_PASSWORD
            _APP_STORAGE_LIMIT: $$cap_APP_STORAGE_LIMIT
            _APP_STORAGE_PREVIEW_LIMIT: $$cap_APP_STORAGE_PREVIEW_LIMIT
            _APP_STORAGE_DEVICE: $$cap_APP_STORAGE_DEVICE
            _APP_STORAGE_ANTIVIRUS: disabled
            _APP_STORAGE_ANTIVIRUS_HOST: clamav
            _APP_STORAGE_ANTIVIRUS_PORT: 3310
            _APP_STORAGE_S3_ACCESS_KEY:
            _APP_STORAGE_S3_SECRET:
            _APP_STORAGE_S3_REGION:
            _APP_STORAGE_S3_BUCKET:
            _APP_STORAGE_DO_SPACES_ACCESS_KEY:
            _APP_STORAGE_DO_SPACES_SECRET:
            _APP_STORAGE_DO_SPACES_REGION:
            _APP_STORAGE_DO_SPACES_BUCKET:
            _APP_FUNCTIONS_SIZE_LIMIT: $$cap_APP_FUNCTIONS_SIZE_LIMIT
            _APP_FUNCTIONS_TIMEOUT: $$cap_APP_FUNCTIONS_TIMEOUT
            _APP_FUNCTIONS_BUILD_TIMEOUT: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
            _APP_FUNCTIONS_CONTAINERS: $$cap_APP_FUNCTIONS_CONTAINERS
            _APP_FUNCTIONS_CPUS: $$cap_APP_FUNCTIONS_CPUS
            _APP_FUNCTIONS_MEMORY: $$cap_APP_FUNCTIONS_MEMORY
            _APP_FUNCTIONS_MEMORY_SWAP: $$cap_APP_FUNCTIONS_MEMORY_SWAP
            _APP_FUNCTIONS_RUNTIMES: $$cap_APP_FUNCTIONS_RUNTIMES
            _APP_EXECUTOR_SECRET: $$cap_APP_EXECUTOR_SECRET
            _APP_EXECUTOR_RUNTIME_NETWORK: srv-captain--$$cap_appname-runtimes
            _APP_FUNCTIONS_ENVS: node-16.0,php-7.4,python-3.9,ruby-3.0
            _APP_FUNCTIONS_INACTIVE_THRESHOLD: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
            _APP_MAINTENANCE_INTERVAL:
            _APP_MAINTENANCE_RETENTION_EXECUTION:
            _APP_MAINTENANCE_RETENTION_ABUSE:
            _APP_MAINTENANCE_RETENTION_AUDIT:
            DOCKERHUB_PULL_USERNAME: $$cap_DOCKERHUB_PULL_USERNAME
            DOCKERHUB_PULL_PASSWORD: $$cap_DOCKERHUB_PULL_PASSWORD
            DOCKERHUB_PULL_EMAIL: $$cap_DOCKERHUB_PULL_EMAIL

caproverOneClickApp:
    variables:
        - label: Version - patch
          description: Application version - patch release.
          defaultValue: '2'
          id: $$cap_APP_VERSION_PATCH

        # general
        - label: General | _APP_ENV
          description: Set your server running environment. You can leave the default value.
          defaultValue: 'production'
          id: $$cap_APP_ENV
        - label: General | _APP_LOCALE
          description: Set your Appwrite's locale. By default, the locale is set to 'en'.
          defaultValue: 'en'
          id: $$cap_APP_LOCALE
        - label: General | _APP_OPTIONS_ABUSE
          description: Allows you to disable abuse checks and API rate limiting. By default, set to 'enabled'. To cancel the abuse checking, set to 'disabled'. It is not recommended to disable this check-in a production environment.
          defaultValue: 'enabled'
          id: $$cap_APP_OPTIONS_ABUSE
        - label: General | _APP_OPTIONS_FORCE_HTTPS
          description: Allows you to force HTTPS connection to your API. This feature redirects any HTTP call to HTTPS and adds the 'Strict-Transport-Security' header to all HTTP responses. By default, set to 'enabled'. To disable, set to 'disabled'. This feature will work only when your ports are set to default 80 and 443.
          defaultValue: 'enabled'
          id: $$cap_APP_OPTIONS_FORCE_HTTPS
        - label: General | _APP_OPENSSL_KEY_V1
          description: This is your server private secret key that is used to encrypt all sensitive data on your server. Appwrite server encrypts all secret data on your server like webhooks, HTTP passwords, user sessions, and storage files. The var is not set by default, if you wish to take advantage of Appwrite encryption capabilities you should change it and make sure to keep it a secret and have a backup for it.
          defaultValue: $$cap_gen_random_hex(256)
          id: $$cap_APP_OPENSSL_KEY_V1
        - label: General | _APP_DOMAIN
          description: Your Appwrite domain address. When setting a public suffix domain, Appwrite will attempt to issue a valid SSL certificate automatically. When used with a dev domain, Appwrite will assign a self-signed SSL certificate. The default value is 'localhost'.
          defaultValue: 'localhost'
          id: $$cap_APP_DOMAIN
        - label: General | _APP_DOMAIN_TARGET
          description: A DNS A record hostname to serve as a CNAME target for your Appwrite custom domains. You can use the same value as used for the Appwrite '_APP_DOMAIN' variable. The default value is 'localhost'.
          defaultValue: 'localhost'
          id: $$cap_APP_DOMAIN_TARGET
        - label: General | _APP_CONSOLE_WHITELIST_ROOT
          description: This option allows you to disable the creation of new users on the Appwrite console. When enabled only 1 user will be able to use the registration form. New users can be added by inviting them to your project. By default this option is enabled.
          defaultValue: 'enabled'
          id: $$cap_APP_CONSOLE_WHITELIST_ROOT
        - label: General | _APP_CONSOLE_WHITELIST_EMAILS
          description: This option allows you to limit creation of new users on the Appwrite console. This option is very useful for small teams or sole developers. To enable it, pass a list of allowed email addresses separated by a comma.
          defaultValue: ''
          id: $$cap_APP_CONSOLE_WHITELIST_EMAILS
        - label: General | _APP_CONSOLE_WHITELIST_IPS
          description: This last option allows you to limit creation of users in Appwrite console for users sharing the same set of IP addresses. This option is very useful for team working with a VPN service or a company IP.\n\nTo enable/activate this option, pass a list of allowed IP addresses separated by a comma.
          defaultValue: ''
          id: $$cap_APP_CONSOLE_WHITELIST_IPS
        - label: General | _APP_SYSTEM_EMAIL_NAME
          description: |-
              This is the sender name value that will appear on email messages sent to developers from the Appwrite console. The default value is: 'Appwrite'. You can use url encoded strings for spaces and special chars.
          defaultValue: 'team@appwrite.io'
          id: $$cap_APP_SYSTEM_EMAIL_NAME
        - label: General | _APP_SYSTEM_EMAIL_ADDRESS
          description: This is the sender email address that will appear on email messages sent to developers from the Appwrite console. The default value is 'team@appwrite.io'. You should choose an email address that is allowed to be used from your SMTP server to avoid the server email ending in the users' SPAM folders.
          defaultValue: ''
          id: $$cap_APP_SYSTEM_EMAIL_ADDRESS
        - label: General | _APP_SYSTEM_RESPONSE_FORMAT
          description: Use this environment variable to set the default Appwrite HTTP response format to support an older version of Appwrite. This option is useful to overcome breaking changes between versions. You can also use the X-Appwrite-Response-Format HTTP request header to overwrite the response for a specific request. This variable accepts any valid Appwrite version. To use the current version format, leave the value of the variable empty.
          defaultValue: ''
          id: $$cap_APP_SYSTEM_RESPONSE_FORMAT
        - label: General | _APP_SYSTEM_SECURITY_EMAIL_ADDRESS
          description: This is the email address used to issue SSL certificates for custom domains or the user agent in your webhooks payload.
          defaultValue: ''
          id: $$cap_APP_SYSTEM_SECURITY_EMAIL_ADDRESS
        - label: General | _APP_USAGE_STATS
          description: This variable allows you to disable the collection and displaying of usage stats. This value is set to 'enabled' by default, to disable the usage stats set the value to 'disabled'. When disabled, it's recommended to turn off the Worker Usage, Influxdb and Telegraf containers for better resource usage.
          defaultValue: 'enabled'
          id: $$cap_APP_USAGE_STATS
        - label: General | _APP_LOGGING_PROVIDER
          description: This variable allows you to enable logging errors to 3rd party providers. This value is empty by default, to enable the logger set the value to one of 'sentry', 'raygun', 'appsignal', 'logowl'
          defaultValue: ''
          id: $$cap_APP_LOGGING_PROVIDER
        - label: General | _APP_LOGGING_CONFIG
          description: This variable configures authentication to 3rd party error logging providers. If using Sentry, this should be 'SENTRY_API_KEY;SENTRY_APP_ID'. If using Raygun, this should be Raygun API key. If using AppSignal, this should be AppSignal API key. If using LogOwl, this should be LogOwl Service Ticket.
          defaultValue: ''
          id: $$cap_APP_LOGGING_CONFIG
        - label: General | _APP_USAGE_AGGREGATION_INTERVAL
          description: Interval value containing the number of seconds that the Appwrite usage process should wait before aggregating stats and syncing it to mariadb from InfluxDB. The default value is 30 seconds.
          defaultValue: '30'
          id: $$cap_APP_USAGE_AGGREGATION_INTERVAL
        - label: General | _APP_WORKER_PER_CORE
          description: Internal Worker per core for the API, Realtime and Executor containers. Can be configured to optimize performance.
          defaultValue: ''
          id: $$cap_APP_WORKER_PER_CORE

          # mariadb
        - label: MariaDB | _APP_DB_ROOT_PASS
          description: MariaDB server root password.
          defaultValue: $$cap_gen_random_hex(16)
          id: $$cap_APP_DB_ROOT_PASS
        - label: MariaDB | _APP_DB_SCHEMA
          description: MariaDB server database schema.
          defaultValue: 'appwrite'
          id: $$cap_APP_DB_SCHEMA
        - label: MariaDB | _APP_DB_USER
          description: MariaDB server user name.
          defaultValue: $$cap_gen_random_hex(16)
          id: $$cap_APP_DB_USER
        - label: MariaDB | _APP_DB_PASS
          description: MariaDB server user password.
          defaultValue: $$cap_gen_random_hex(16)
          id: $$cap_APP_DB_PASS

        # phone
        - label: Phone | _APP_PHONE_PROVIDER
          description: |
            Provider used for delivering SMS for Phone authentication. Use the following format: 'phone://[USER]:[SECRET]@[PROVIDER]'.
            Available providers are twilio, text-magic and telesign.
          defaultValue: ''
          id: $$cap_APP_PHONE_PROVIDER
        - label: From | _APP_PHONE_FROM
          description: |
            Phone number used for sending out messages. Must start with a leading '+' and maximum of 15 digits without spaces (+123456789).
          defaultValue: ''
          id: $$cap_APP_PHONE_FROM

        # smtp
        - label: SMTP | _APP_SMTP_HOST
          description: SMTP server host name address. Use an empty string to disable all mail sending from the server. The default value for this variable is an empty string.
          defaultValue:
          id: $$cap_APP_SMTP_HOST
        - label: SMTP | _APP_SMTP_PORT
          description: SMTP server TCP port. Empty by default.
          defaultValue:
          id: $$cap_APP_SMTP_PORT
        - label: SMTP | _APP_SMTP_SECURE
          description: SMTP secure connection protocol. Empty by default, change to 'tls' if running on a secure connection.
          defaultValue:
          id: $$cap_APP_SMTP_SECURE
        - label: SMTP | _APP_SMTP_USERNAME
          description: SMTP server user name. Empty by default.
          defaultValue:
          id: $$cap_APP_SMTP_USERNAME
        - label: SMTP | _APP_SMTP_PASSWORD
          description: SMTP server user password. Empty by default.
          defaultValue:
          id: $$cap_APP_SMTP_PASSWORD

        # storage
        - label: Storage | _APP_STORAGE_LIMIT
          description: Maximum file size allowed for file upload. The default value is 30MB. You should pass your size limit value in bytes.
          defaultValue: '30000000'
          id: $$cap_APP_STORAGE_LIMIT
        - label: Storage | _APP_STORAGE_PREVIEW_LIMIT
          description: Maximum file size allowed for file image preview. The default value is 20MB. You should pass your size limit value in bytes.
          defaultValue: '20000000'
          id: $$cap_APP_STORAGE_PREVIEW_LIMIT
        - label: Storage | _APP_STORAGE_DEVICE
          description: Select default storage device. The default value is 'Local'. List of supported adapters are 'Local'.
          defaultValue: 'Local'
          id: $$cap_APP_STORAGE_DEVICE
        - label: Storage | _APP_STORAGE_ANTIVIRUS
          description: This variable allows you to disable the internal anti-virus scans. This value is set to 'disabled' by default, to enable the scans set the value to 'enabled'. Before enabling, you must add the ClamAV service and depend on it on main Appwrite service.
          defaultValue: ''
          id: $$cap_APP_STORAGE_ANTIVIRUS
        - label: Storage | _APP_STORAGE_ANTIVIRUS_HOST
          description: |-
              ClamAV server host name address. Default value is: 'clamav'.
          defaultValue: 'clamav'
          id: $$cap_APP_STORAGE_ANTIVIRUS_HOST
        - label: Storage | _APP_STORAGE_ANTIVIRUS_PORT
          description: |-
              ClamAV server TCP port. Default value is: '3310'.
          defaultValue: '3310'
          id: $$cap_APP_STORAGE_ANTIVIRUS_PORT

        # functions
        - label: Functions | _APP_FUNCTIONS_SIZE_LIMIT
          description: The maximum size deployment in bytes. The default value is 30MB.
          defaultValue: '30000000'
          id: $$cap_APP_FUNCTIONS_SIZE_LIMIT
        - label: Functions | _APP_FUNCTIONS_TIMEOUT
          description: The maximum number of seconds allowed as a timeout value when creating a new function. The default value is 900 seconds.
          defaultValue: '900'
          id: $$cap_APP_FUNCTIONS_TIMEOUT
        - label: Functions | _APP_FUNCTIONS_BUILD_TIMEOUT
          description: The maximum number of seconds allowed as a timeout value when building a new function. The default value is 900 seconds.
          defaultValue: '900'
          id: $$cap_APP_FUNCTIONS_BUILD_TIMEOUT
        - label: Functions | _APP_FUNCTIONS_CONTAINERS
          description: The maximum number of containers Appwrite is allowed to keep alive in the background for function environments. Running containers allow faster execution time as there is no need to recreate each container every time a function gets executed. The default value is 10.
          defaultValue: '10'
          id: $$cap_APP_FUNCTIONS_CONTAINERS
        - label: Functions | _APP_FUNCTIONS_MEMORY
          description: The maximum amount of memory a single cloud function is allowed to use in megabytes. The default value is empty. When it's empty, memory limit will be disabled.
          defaultValue:
          id: $$cap_APP_FUNCTIONS_MEMORY
        - label: Functions | _APP_FUNCTIONS_CPUS
          description: The maximum number of CPU core a single cloud function is allowed to use. Please note that setting a value higher than available cores will result in a function error, which might result in an error. The default value is empty. When it's empty, CPU limit will be disabled.
          defaultValue:
          id: $$cap_APP_FUNCTIONS_CPUS
        - label: Functions | _APP_FUNCTIONS_MEMORY_SWAP
          description: The maximum amount of swap memory a single cloud function is allowed to use in megabytes. The default value is empty. When it's empty, swap memory limit will be disabled.
          defaultValue:
          id: $$cap_APP_FUNCTIONS_MEMORY_SWAP
        - label: Functions | _APP_FUNCTIONS_RUNTIMES
          description: |-
              This option allows you to limit the available environments for cloud functions. This option is very useful for low-cost servers to safe disk space.

              To enable/activate this option, pass a list of allowed environments separated by a comma.

              Currently, supported environments are: node-14.5, node-15.5, node-16.0, node-17.0, php-8.0, php-8.1, ruby-3.0, ruby-3.1, python-3.8, python-3.9, python-3.10, deno-1.12, deno-1.13, deno-1.14, dart-2.12, dart-2.13, dart-2.14, dart-2.15, dart-2.16, swift-5.5
          defaultValue:
          id: $$cap_APP_FUNCTIONS_RUNTIMES
        - label: Functions | _APP_EXECUTOR_SECRET
          description: The secret key used by Appwrite to communicate with the function executor.
          defaultValue: $$cap_gen_random_hex(16)
          id: $$cap_APP_EXECUTOR_SECRET
        - label: Functions | _APP_FUNCTIONS_INACTIVE_THRESHOLD
          description: The minimum time a function can be inactive before it's container is shutdown and put to sleep. The default value is 60 seconds
          defaultValue: '60'
          id: $$cap_APP_FUNCTIONS_INACTIVE_THRESHOLD
        - label: Functions | DOCKERHUB_PULL_USERNAME
          description: The username for hub.docker.com. This variable is used to pull images from hub.docker.com.
          defaultValue:
          id: $$cap_DOCKERHUB_PULL_USERNAME
        - label: Functions | DOCKERHUB_PULL_PASSWORD
          description: The password for hub.docker.com. This variable is used to pull images from hub.docker.com.
          defaultValue:
          id: $$cap_DOCKERHUB_PULL_PASSWORD
        - label: Functions | DOCKERHUB_PULL_EMAIL
          description: The email for hub.docker.com. This variable is used to pull images from hub.docker.com.
          defaultValue:
          id: $$cap_DOCKERHUB_PULL_EMAIL

    displayName: Appwrite 0.15
    isOfficial: true
    description: Secure Open-Source Backend Server for Web, Mobile & Flutter Developers
    documentation: https://appwrite.io/docs
    instructions:
        start: |-
            Appwrite is a self-hosted solution that provides developers with a set of easy-to-use and integrate REST APIs to manage their core backend needs.
            Documentation: https://appwrite.io/docs
            Description of all env variables: https://appwrite.io/docs/environment-variables
        end: |-
            You're done! 
            Your service is available at http://$$cap_appname.$$cap_root_domain

            Realtime feature: Use nginx proxy to connect URL like /v1/realtime endpoint to the $$cap_appname-appwrite-realtime container. It depends on your setup.
