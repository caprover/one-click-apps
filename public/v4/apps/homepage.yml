captainVersion: 4
services:
  $$cap_appname:
    image: ghcr.io/gethomepage/homepage:$$cap_homepage_version
    environment: null
    PUID: $$cap_puid
    PGID: $$cap_guid
    volumes:
      - $$cap_config_path:/app/config
      - /var/run/docker.sock:/var/run/docker.sock:ro
    restart: always
    caproverExtra:
      containerHttpPort: "3000"
caproverOneClickApp:
  variables:
    - id: $$cap_puid
      label: User ID
      defaultValue: "1000"
      description: User ID that the process uses, run (id $user) in your instance to
        see the id
      validRegex: /.{1,}/
    - id: $$cap_guid
      label: Group ID
      defaultValue: "1000"
      description: Group ID that the process uses, run (id $user) in your instance to
        see the id
      validRegex: /.{1,}/
    - id: $$cap_homepage_version
      label: Homepage Version
      defaultValue: v0.7.4
      description: Check out their GitHub packages page for the valid tags
        https://github.com/gethomepage/homepage/releases
      validRegex: /^([^\\s^\\/])+$/
    - id: $$cap_config_path
      label: Configuration Path
      defaultValue: /path/to/config
      description: full path to the directory where the homepage config is stored. Path on host MUST exist for the app to start!
      validRegex: /.{1,}/
  instructions:
    start: >-
        A modern, fully static, fast, secure fully proxied, highly customizable application dashboard with integrations for over 100 services and translations into multiple languages. Easily configured via YAML files or through docker label discovery.
    end: >-
        Homepage is installed and can be accessed via `http://$$cap_appname.$$cap_root_domain`
  displayName: Homepage
  isOfficial: true
  description: A modern, fully static, fast, secure fully proxied, highly customizable application dashboard.
  documentation: See https://github.com/gethomepage/homepage
