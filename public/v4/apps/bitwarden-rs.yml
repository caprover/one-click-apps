captainVersion: 4
services:
    $$cap_appname:
        image: bitwardenrs/server:$$cap_version
        volumes:
            - $$cap_appname-data:/data/
        environtments:
            TZ: $$cap_tz
        restart: always
        ports: []

caproverOneClickApp:
    variables:
        - id: $$cap_version
          label: bitwarden_rs version
          defaultValue: '1.20.0'
          description: Check out their Docker page for the valid tags https://hub.docker.com/r/bitwardenrs/server/tags
          validRegex: /^([^\s^\/])+$/
        - id: $$cap_tz
          label: Timezone
          defaultValue: 'Asia/Ho_Chi_Minh'
          description: Use TZ database name at https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
    instructions:
        start: bitwarden_rs is a Bitwarden server API implementation written in Rust compatible with upstream Bitwarden clients.
        end: bitwarden_rs is deployed and available as http://$$cap_appname.$$cap_root_domain and srv-captain--$$cap_appname:3012 as websocket to other apps, you can customize using Environmental Variables https://github.com/dani-garcia/bitwarden_rs/blob/master/.env.template
    displayName: bitwarden_rs
    isOfficial: false
    description: bitwarden_rs is a Bitwarden server API implementation written in Rust compatible with upstream Bitwarden clients.
    documentation: Learn more at https://github.com/dani-garcia/bitwarden_rs
